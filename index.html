<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Danny Store - GTA V Online</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');
  body {
    margin: 0;
    background: #0d1f2f;
    color: #e6f7ff;
    font-family: 'Orbitron', monospace, Arial, sans-serif;
    display: flex;
    height: 100vh;
    overflow: hidden;
  }
  #sidebar {
    width: 220px;
    background: #152c44;
    box-shadow: 2px 0 15px #4dc3ffaa;
    display: flex;
    flex-direction: column;
    padding: 1rem 0;
  }
  #logo {
    display: flex;
    justify-content: center;
    margin-bottom: 1rem;
  }
  #logo img {
    width: 160px;
    height: auto;
    user-select: none;
  }
  #menu {
    flex-grow: 1;
  }
  .menu-item {
    padding: 1rem 1.5rem;
    cursor: pointer;
    color: #4dc3ff;
    font-weight: 700;
    border-left: 4px solid transparent;
    transition: background 0.3s ease, border-left-color 0.3s ease;
    user-select: none;
  }
  .menu-item:hover {
    background: #4dc3ff22;
  }
  .menu-item.active {
    background: #4dc3ff33;
    border-left-color: #4dc3ff;
    color: #0d1f2f;
    font-weight: 800;
  }
  #main {
    flex-grow: 1;
    padding: 2rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
  }
  h1 {
    margin-top: 0;
    margin-bottom: 1.5rem;
    text-align: center;
    color: #4dc3ff;
    text-shadow: 0 0 8px #4dc3ff;
  }
  #products {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
    gap: 1.5rem;
  }
  .product {
    background: #1e3a5f;
    border-radius: 12px;
    box-shadow: 0 0 15px #4dc3ff55;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
  }
  .product:hover {
    transform: translateY(-8px);
    box-shadow: 0 0 25px #4dc3ffcc;
  }
  .product img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 1rem;
    border: 2px solid #4dc3ff;
  }
  .product strong {
    font-size: 1.2rem;
    margin-bottom: 0.3rem;
    text-align: center;
  }
  .price {
    font-weight: 700;
    font-size: 1.2rem;
    color: #4dc3ff;
    margin-bottom: 1rem;
  }
  button.add-btn {
    background: #4dc3ff;
    border: none;
    color: #0d1f2f;
    font-weight: 700;
    padding: 0.7rem 1.5rem;
    border-radius: 10px;
    cursor: pointer;
    width: 100%;
    font-size: 1rem;
    transition: background 0.3s ease;
  }
  button.add-btn:hover {
    background: #3aa8ff;
  }
  #cart {
    background: #1e3a5f;
    border-radius: 12px;
    box-shadow: 0 0 20px #4dc3ffbb;
    padding: 1.5rem;
    margin-top: 2rem;
    max-height: 320px;
    overflow-y: auto;
  }
  #cart h2 {
    margin-top: 0;
    margin-bottom: 1rem;
    border-bottom: 2px solid #4dc3ff;
    padding-bottom: 0.5rem;
    color: #4dc3ff;
    text-align: center;
  }
  #cart-items {
    color: #d4eaff;
    font-family: monospace;
  }
  .cart-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.6rem;
    padding-bottom: 0.4rem;
    border-bottom: 1px solid #315c8a;
    font-size: 1rem;
  }
  .cart-item:last-child {
    border-bottom: none;
  }
  .cart-item > .item-info {
    flex: 1;
  }
  .cart-item input[type=number] {
    width: 60px;
    font-size: 1rem;
    margin: 0 0.5rem;
    border-radius: 6px;
    border: 1px solid #4dc3ff;
    background: #152c44;
    color: #d4eaff;
    padding: 0.2rem 0.4rem;
    text-align: center;
  }
  .cart-item button.remove-btn {
    background: transparent;
    border: none;
    color: #ff6b6b;
    font-weight: 900;
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0 0.3rem;
    line-height: 1;
    transition: color 0.3s ease;
  }
  .cart-item button.remove-btn:hover {
    color: #ff3b3b;
  }
  #cart-total {
    font-weight: 700;
    font-size: 1.3rem;
    margin-top: 1rem;
    color: #4dc3ff;
    text-align: center;
  }
  #btn-whatsapp {
    background: #4dc3ff;
    border: none;
    color: #0d1f2f;
    font-weight: 700;
    font-size: 1.2rem;
    padding: 0.9rem;
    width: 100%;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.3s ease;
    margin-top: 1rem;
  }
  #btn-whatsapp:disabled {
    background: #1a3c5f;
    cursor: not-allowed;
    color: #678dbb;
  }
  #btn-whatsapp:hover:not(:disabled) {
    background: #3aa8ff;
  }
  #cart-items::-webkit-scrollbar {
    width: 8px;
  }
  #cart-items::-webkit-scrollbar-thumb {
    background-color: #4dc3ffbb;
    border-radius: 4px;
  }
  @media (max-width: 800px) {
    body {
      flex-direction: column;
      height: auto;
    }
    #sidebar {
      width: 100%;
      flex-direction: row;
      overflow-x: auto;
      padding: 0.5rem 0;
    }
    #menu {
      display: flex;
      flex-direction: row;
      flex-grow: 1;
      gap: 0.5rem;
      padding-left: 0;
    }
    .menu-item {
      flex: none;
      padding: 0.5rem 1rem;
      border-left: none;
      border-bottom: 3px solid transparent;
    }
    .menu-item.active {
      border-left: none;
      border-bottom: 3px solid #4dc3ff;
      background: transparent;
      color: #4dc3ff;
      font-weight: 700;
    }
    #main {
      padding: 1rem;
      height: auto;
    }
    #cart {
      max-height: none;
      margin-top: 1rem;
    }
  }
</style>
</head>
<body>

<div id="sidebar">
  <div id="logo">
    <img src="https://i.imgur.com/tgMiizt.png" alt="Danny Store Logo" />
  </div>
  <nav id="menu">
    <div class="menu-item active" data-category="conjuntos">Conjuntos Mod</div>
    <div class="menu-item" data-category="cheteos">Cheteos</div>
    <div class="menu-item" data-category="cuentas">Cuentas</div>
    <div class="menu-item" data-category="autos">Autos Full Mod</div>
    <div class="menu-item" data-category="millones">Millones GTA V</div>
  </nav>
</div>

<div id="main">
  <h1>Danny Store - GTA V Online</h1>
  <div id="products"></div>

  <section id="cart">
    <h2>Tu carrito</h2>
    <div id="cart-items">Tu carrito está vacío.</div>
    <div id="cart-total">Total: Q0.00</div>
    <button id="btn-whatsapp" disabled>Enviar pedido por WhatsApp</button>
  </section>
</div>

<script>
  // Variables globales
  const menuItems = document.querySelectorAll('.menu-item');
  const productsDiv = document.getElementById('products');
  const cartItemsDiv = document.getElementById('cart-items');
  const cartTotalDiv = document.getElementById('cart-total');
  const btnWhatsApp = document.getElementById('btn-whatsapp');

  // Productos por categoría
  const productsData = {
    conjuntos: [
      { id: 101, name: "Conjuntos Mod Personalizados", price: 0, description: "Se crean a tu gusto. Contacta para más info.", image: "https://i.imgur.com/6PPQZt5.jpg" }
    ],
    cheteos: [
      { id: 1, name: "Cheat Básico", price: 100, image: "https://i.imgur.com/9kxDz4B.jpg" },
      { id: 2, name: "Cheat Avanzado", price: 180, image: "https://i.imgur.com/7WVmZxK.jpg" },
      { id: 3, name: "Cheat Premium", price: 300, image: "https://i.imgur.com/tZ3Fz6Z.jpg" }
    ],
    cuentas: [
      { id: 4, name: "Cuenta Nivel 50", price: 250, image: "https://i.imgur.com/5ECyCEe.jpg" },
      { id: 5, name: "Cuenta Nivel 100", price: 450, image: "https://i.imgur.com/kLMEGYT.jpg" },
      { id: 6, name: "Cuenta Premium Full Mods", price: 600, image: "https://i.imgur.com/mq8o41A.jpg" }
    ],
    autos: [
      { id: 7, name: "Auto Full Mod #1", price: 200, image: "https://i.imgur.com/E3bNdlY.jpg" },
      { id: 8, name: "Auto Full Mod #2", price: 350, image: "https://i.imgur.com/QrXD8vq.jpg" },
      { id: 9, name: "Auto Full Mod #3", price: 400, image: "https://i.imgur.com/ZZFGjK9.jpg" }
    ],
    millones: [
      { id: 10, name: "Millones GTA V - Paquete 1", price: 120, image: "https://i.imgur.com/GEeT3vD.jpg" },
      { id: 11, name: "Millones GTA V - Paquete 2", price: 250, image: "https://i.imgur.com/Txz6q7a.jpg" },
      { id: 12, name: "Millones GTA V - Paquete 3", price: 400, image: "https://i.imgur.com/8q0AmXQ.jpg" }
    ]
  };

  let currentCategory = "conjuntos";
  let cart = [];

  // Función para cargar productos de la categoría seleccionada
  function loadProducts(category) {
    productsDiv.innerHTML = "";

    if(category === "conjuntos"){
      const conjunto = productsData.conjuntos[0];
      const div = document.createElement('div');
      div.className = "product";
      div.style.justifyContent = "center";
      div.style.textAlign = "center";
      div.innerHTML = `
        <img src="${conjunto.image}" alt="${conjunto.name}" style="max-width:300px; margin-bottom:1rem; border:none;" />
        <strong style="color:#4dc3ff; font-size:1.4rem;">${conjunto.name}</strong>
        <p style="color:#d4eaff; margin-top:0.5rem; font-size:1.1rem;">${conjunto.description}</p>
        <p style="font-style:italic; color:#4dc3ff;">Se hacen personalizados a tu gusto. Contacta para más información.</p>
      `;
      productsDiv.appendChild(div);
      return;
    }

    const items = productsData[category] || [];
    items.forEach(p => {
      const div = document.createElement('div');
      div.className = 'product';
      div.innerHTML = `
        <img src="${p.image}" alt="${p.name}" />
        <strong>${p.name}</strong>
        <div class="price">Q${p.price.toFixed(2)}</div>
        <button class="add-btn">Agregar</button>
      `;
      productsDiv.appendChild(div);

      // Añadir evento click al botón Agregar
      const btn = div.querySelector('button.add-btn');
      btn.addEventListener('click', () => addToCart(p.id));
    });
  }

  // Función para añadir producto al carrito
  function addToCart(id) {
    let prod;
    for(let cat in productsData){
      const p = productsData[cat].find(item => item.id === id);
      if(p){
        prod = p;
        break;
      }
    }
    if(!prod) return;

    if(prod.price === 0) {
      alert("Este producto es personalizado, por favor contacta para más información.");
      return;
    }

    const item = cart.find(i => i.id === id);
    if(item){
      item.quantity++;
    } else {
      cart.push({...prod, quantity:1});
    }
    updateCart();
  }

  // Función para actualizar el carrito
  function updateCart() {
    if(cart.length === 0){
      cartItemsDiv.textContent = "Tu carrito está vacío.";
      cartTotalDiv.textContent = "Total: Q0.00";
      btnWhatsApp.disabled = true;
      return;
    }
    cartItemsDiv.innerHTML = "";
    let total = 0;
    cart.forEach(item => {
      total += item.price * item.quantity;
      const div = document.createElement('div');
      div.className = 'cart-item';

      div.innerHTML = `
        <div class="item-info">${item.name}</div>
        <input type="number" min="1" value="${item.quantity}" data-id="${item.id}" />
        <div>Q${(item.price * item.quantity).toFixed(2)}</div>
        <button class="remove-btn" data-id="${item.id}" title="Quitar">&times;</button>
      `;

      cartItemsDiv.appendChild(div);
    });
    cartTotalDiv.textContent = `Total: Q${total.toFixed(2)}`;
    btnWhatsApp.disabled = false;

    // Cambiar cantidades
    document.querySelectorAll('#cart-items input[type=number]').forEach(input => {
      input.addEventListener('change', e => {
        const id = parseInt(e.target.getAttribute('data-id'));
        let val = parseInt(e.target.value);
        if(isNaN(val) || val < 1) val = 1;
        e.target.value = val;

        const item = cart.find(i => i.id === id);
        if(item){
          item.quantity = val;
          updateCart();
        }
      });
    });

    // Botones eliminar producto
    document.querySelectorAll('#cart-items .remove-btn').forEach(btn => {
      btn.addEventListener('click', e => {
        const id = parseInt(e.target.getAttribute('data-id'));
        cart = cart.filter(i => i.id !== id);
        updateCart();
      });
    });
  }

  // Botón WhatsApp para enviar pedido
  btnWhatsApp.addEventListener('click', () => {
    if(cart.length === 0) return;

    const phoneNumber = "50232705367";

    let message = "Hola, quiero hacer el siguiente pedido:\n";
    cart.forEach(item => {
      message += `- ${item.name} x${item.quantity} = Q${(item.price * item.quantity).toFixed(2)}\n`;
    });
    const total = cart.reduce((acc, i) => acc + i.price * i.quantity, 0);
    message += `Total: Q${total.toFixed(2)}\nGracias.`;

    const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  });

  // Cambiar categoría en menú
  menuItems.forEach(item => {
    item.addEventListener('click', () => {
      if(item.classList.contains('active')) return;
      menuItems.forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      currentCategory = item.getAttribute('data-category');
      loadProducts(currentCategory);
    });
  });

  // Inicializar con categoría por defecto
  loadProducts(currentCategory);
</script>

</body>
</html>
