<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Danny Store - Tienda con Envío por WhatsApp</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 900px;
    margin: 2rem auto;
    padding: 1rem;
    background: #f5f7fa;
    color: #333;
  }
  h1, h2 {
    text-align: center;
    color: #222;
  }
  #products {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }
  .product {
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgb(0 0 0 / 0.1);
    padding: 1rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.2s ease;
  }
  .product:hover {
    transform: translateY(-5px);
  }
  .product img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 1rem;
  }
  .product strong {
    font-size: 1.1rem;
    margin-bottom: 0.3rem;
    text-align: center;
  }
  .price {
    font-weight: 700;
    font-size: 1.1rem;
    margin: 0.3rem 0 1rem;
    color: #0070ba;
  }
  button.add-btn {
    background: #25d366;
    border: none;
    color: white;
    font-weight: 600;
    padding: 0.6rem 1.2rem;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
    transition: background 0.3s ease;
  }
  button.add-btn:hover {
    background: #1da851;
  }

  #cart {
    background: white;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgb(0 0 0 / 0.15);
    padding: 1.5rem;
  }
  #cart h2 {
    margin-top: 0;
    margin-bottom: 1rem;
    border-bottom: 2px solid #0070ba;
    padding-bottom: 0.5rem;
  }
  #cart-items {
    max-height: 250px;
    overflow-y: auto;
    margin-bottom: 1rem;
  }
  .cart-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.6rem;
    padding-bottom: 0.4rem;
    border-bottom: 1px solid #eee;
    font-size: 0.95rem;
  }
  .cart-item:last-child {
    border-bottom: none;
  }
  #cart-total {
    font-weight: 700;
    font-size: 1.3rem;
    margin-bottom: 1rem;
    color: #0070ba;
  }
  #btn-whatsapp {
    background: #25d366;
    border: none;
    color: white;
    font-weight: 700;
    font-size: 1.1rem;
    padding: 0.7rem;
    width: 100%;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  #btn-whatsapp:disabled {
    background: #b5d6bb;
    cursor: not-allowed;
  }
  #btn-whatsapp:hover:not(:disabled) {
    background: #1da851;
  }

  /* Scrollbar para carrito */
  #cart-items::-webkit-scrollbar {
    width: 6px;
  }
  #cart-items::-webkit-scrollbar-thumb {
    background-color: #0070ba;
    border-radius: 3px;
  }
</style>
</head>
<body>

<h1>Danny Store</h1>

<section id="products"></section>

<section id="cart">
  <h2>Tu carrito</h2>
  <div id="cart-items">Tu carrito está vacío.</div>
  <div id="cart-total">Total: Q0.00</div>
  <button id="btn-whatsapp" disabled>Enviar pedido por WhatsApp</button>
</section>

<script>
  const products = [
    {
      id: 1,
      name: "Taza Personalizada",
      price: 8.50,
      image: "https://i.imgur.com/1fX7cgk.jpg"
    },
    {
      id: 2,
      name: "Tumbler Acero",
      price: 15.00,
      image: "https://i.imgur.com/QC91Rjv.jpg"
    },
    {
      id: 3,
      name: "Bolsa Tote",
      price: 12.00,
      image: "https://i.imgur.com/7j1Rtjq.jpg"
    }
  ];

  const productsDiv = document.getElementById('products');
  const cartItemsDiv = document.getElementById('cart-items');
  const cartTotalDiv = document.getElementById('cart-total');
  const btnWhatsApp = document.getElementById('btn-whatsapp');

  let cart = [];

  function showProducts() {
    products.forEach(p => {
      const div = document.createElement('div');
      div.className = 'product';
      div.innerHTML = `
        <img src="${p.image}" alt="${p.name}" />
        <strong>${p.name}</strong>
        <div class="price">Q${p.price.toFixed(2)}</div>
        <button class="add-btn" onclick="addToCart(${p.id})">Agregar</button>
      `;
      productsDiv.appendChild(div);
    });
  }

  function addToCart(id) {
    const prod = products.find(p => p.id === id);
    const item = cart.find(i => i.id === id);
    if(item){
      item.quantity++;
    } else {
      cart.push({...prod, quantity:1});
    }
    updateCart();
  }

  function updateCart() {
    if(cart.length === 0){
      cartItemsDiv.textContent = "Tu carrito está vacío.";
      cartTotalDiv.textContent = "Total: Q0.00";
      btnWhatsApp.disabled = true;
      return;
    }
    cartItemsDiv.innerHTML = "";
    let total = 0;
    cart.forEach(item => {
      total += item.price * item.quantity;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.textContent = `${item.name} x ${item.quantity} = Q${(item.price * item.quantity).toFixed(2)}`;
      cartItemsDiv.appendChild(div);
    });
    cartTotalDiv.textContent = `Total: Q${total.toFixed(2)}`;
    btnWhatsApp.disabled = false;
  }

  btnWhatsApp.addEventListener('click', () => {
    if(cart.length === 0) return;

    const phoneNumber = "50232705367"; // Nuevo número de teléfono

    let message = "Hola, quiero hacer el siguiente pedido:\n";
    cart.forEach(item => {
      message += `- ${item.name} x${item.quantity} = Q${(item.price * item.quantity).toFixed(2)}\n`;
    });
    const total = cart.reduce((acc, i) => acc + i.price * i.quantity, 0);
    message += `Total: Q${total.toFixed(2)}\nGracias.`;

    const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    window.open(url, '_blank');
  });

  showProducts();
  updateCart();
</script>

</body>
</html>
